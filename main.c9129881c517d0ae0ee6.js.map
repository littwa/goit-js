{"version":3,"sources":["webpack:///./imgcard.hbs","webpack:///./index.js","webpack:///./search-and-cont.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","document","querySelector","insertAdjacentHTML","searcha","conteiner","formSearch","masonryInstance","Masonry","percentPosition","columnWidth","stagger","gutter","addEventListener","e","preventDefault","innerHTML","infScrollInstance","InfiniteScroll","responseType","history","path","target","elements","query","value","this","pageIndex","on","response","markup","JSON","parse","hits","map","post","imgcard","join","proxyEl","createElement","parsedItems","querySelectorAll","appendItems","addItems","imagesLoaded","layout","bind","loadNextPage"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAkCC,EAAOX,EAAUY,iBAAkBC,EAAiBb,EAAUa,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,4DACHJ,EARuH,mBAQ9GN,EAAmI,OAAzHA,EAASQ,EAAeX,EAAQ,kBAA8B,MAAVD,EAAiBY,EAAeZ,EAAO,gBAAkBA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACxU,iBACAM,EAVuH,mBAU9GN,EAAqI,OAA3HA,EAASQ,EAAeX,EAAQ,mBAA+B,MAAVD,EAAiBY,EAAeZ,EAAO,iBAAmBA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,gBAAgB,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC3U,UACAM,EAZuH,mBAY9GN,EAAmH,OAAzGA,EAASQ,EAAeX,EAAQ,UAAsB,MAAVD,EAAiBY,EAAeZ,EAAO,QAAUA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAChT,8BACJ,SAAU,K,uNCTZe,SAASC,cAAc,QAAQC,mBAAmB,aAAcC,OAChE,IAAMC,EAAYJ,SAASC,cAAc,UACrCI,EAAaL,SAASC,cAAc,gBAGlCK,EAAkB,IAAIC,IAAQH,EAAW,CAI7CI,iBAAiB,EAEjBC,YAAa,IACbC,QAAS,GACTC,OAAQ,IAKVN,EAAWO,iBAAiB,UAC5B,SAAcC,GACZA,EAAEC,iBAEFV,EAAUW,UAAY,GAEtB,IAAMC,EAAoB,IAAIC,IAAeb,EAAW,CAItDc,aAAc,OACdC,SAAS,EACTC,KANsD,WAOpD,+GAAgHP,EAAEQ,OAAOC,SAASC,MAAMC,MAAxI,SAAsJC,KAAKC,aAI/JV,EAAkBU,UAAY,EAE9BV,EAAkBW,GAAG,QAAQ,SAAAC,GAC3B,IACMC,EADQC,KAAKC,MAAMH,GACJI,KAAKC,KAAI,SAAAC,GAAI,OAAIC,IAAQD,MAAOE,KAAK,IACpDC,EAAUrC,SAASsC,cAAc,OACvCD,EAAQtB,UAAYc,EACpB,IAAMU,EAAcF,EAAQG,iBAAiB,eAC7CxB,EAAkByB,YAAYF,GAQ9BjC,EAAgBoC,SAASH,GAGzBI,IAAavC,GAAWuB,GACtB,SACArB,EAAgBsC,OAAOC,KAAKvC,OAShCU,EAAkB8B,mB,qBCzEpB,IAAItE,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,MAAO,6OACT,SAAU,M","file":"main.c9129881c517d0ae0ee6.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n  <img class=\\\"img-card\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":29},\"end\":{\"line\":2,\"column\":45}}}) : helper)))\n    + \"\\\" data-large=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":59},\"end\":{\"line\":2,\"column\":76}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"type\") || (depth0 != null ? lookupProperty(depth0,\"type\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"type\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":83},\"end\":{\"line\":2,\"column\":91}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n</div>\\r\\n\\r\\n\";\n},\"useData\":true});","import './styles.css';\r\nimport InfiniteScroll from 'infinite-scroll';\r\nimport imgcard from './imgcard.hbs';\r\nimport searcha from './search-and-cont.hbs';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport Masonry from 'masonry-layout';\r\nimport imagesLoaded from 'imagesloaded';\r\n\r\ndocument.querySelector('body').insertAdjacentHTML('afterbegin', searcha());\r\nconst conteiner = document.querySelector('.intro');\r\nlet formSearch = document.querySelector('#search-form');\r\n\r\n//==================================================================\r\nconst masonryInstance = new Masonry(conteiner, {\r\n  // itemSelector: 'none', // select none at first\r\n  // columnWidth: '.photo-card', // можно задать шируну item в % через селектор, но не работают visibleStyle и hiddenStyle\r\n  // itemSelector: '.photo-card',\r\n  percentPosition: true,\r\n  // transitionDuration: '0.4s',\r\n  columnWidth: 250,\r\n  stagger: 30, // элементы перемещаются последовательно друг за другом\r\n  gutter: 3,\r\n  // visibleStyle: { transform: 'translateY(0)', opacity: 1 },\r\n  // hiddenStyle: { transform: 'translateY(100px)', opacity: 0 },\r\n});\r\n//====================================================================================================\r\nformSearch.addEventListener('submit', cbbb);\r\nfunction cbbb(e) {\r\n  e.preventDefault();\r\n  // masonryInstance.destroy();\r\n  conteiner.innerHTML = '';\r\n\r\n  const infScrollInstance = new InfiniteScroll(conteiner, {\r\n    // append: '.photo-card',\r\n    // outlayer: masonryInstance,\r\n    // prefill: true,\r\n    responseType: 'text',\r\n    history: false,\r\n    path() {\r\n      return `https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?key=16717692-bb141906bc5c82eed9886cf8d&q=${e.target.elements.query.value}&page=${this.pageIndex}`;\r\n    },\r\n  });\r\n\r\n  infScrollInstance.pageIndex = 1;\r\n\r\n  infScrollInstance.on('load', response => {\r\n    const posts = JSON.parse(response);\r\n    const markup = posts.hits.map(post => imgcard(post)).join('');\r\n    const proxyEl = document.createElement('div');\r\n    proxyEl.innerHTML = markup;\r\n    const parsedItems = proxyEl.querySelectorAll('.photo-card');\r\n    infScrollInstance.appendItems(parsedItems);\r\n\r\n    //===========================Добавляет и размещает добавленные элементы===============++===============\r\n    // imagesLoaded(conteiner).on('always', () => {\r\n    //   masonryInstance.appended(parsedItems);\r\n    // });\r\n    //===========================Добавляет а потом размещает добавленные элементы===========================\r\n    //Добавить к masonry под слежение:\r\n    masonryInstance.addItems(parsedItems);\r\n\r\n    //Размещает добавленные элементы:\r\n    imagesLoaded(conteiner).on(\r\n      'always',\r\n      masonryInstance.layout.bind(masonryInstance),\r\n    );\r\n\r\n    // //--ИЛИ ТАК: Размещает добавленные элементы: --------------------------\r\n    // imagesLoaded('.intro').on('always', () => {\r\n    //   masonryInstance.layout();\r\n    // });\r\n  });\r\n\r\n  infScrollInstance.loadNextPage();\r\n}\r\n","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<form class=\\\"search-form\\\" id=\\\"search-form\\\">\\r\\n  <input\\r\\n    type=\\\"text\\\"\\r\\n    name=\\\"query\\\"\\r\\n    autocomplete=\\\"off\\\"\\r\\n    placeholder=\\\"Search images...\\\"\\r\\n  />\\r\\n  <button class=\\\"search-button\\\">Search!</button>\\r\\n</form>\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}